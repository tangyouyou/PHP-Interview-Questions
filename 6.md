# 第六题

Q：PHP设计模式了解哪些，能否举例说明？

A：

### 工厂模式：
通过抽象工厂的方式生成对象，方便后期动态的修改和维护该对象的生成过程

###单例模式：
生成单一的对象，主要是为了减少开销，比如数据库连接的对象，常见的通过private的构造方法生成，这里需要注意的是，还需要禁止该对象的序列化和反序列操作

###注册模式：
将所有对象注册到一颗对象树上，获取的时候直接从注册树上获取即可

###原形链模式：
通过将对象执行一系列的方法，并将该对象返回从而继续执行别的方法，仿佛一根锁链串联下去，就是常见的原形链模式

###观察者模式：
观察者模式比较常见了，熟悉IOS开发的工程师都知道通知这个机智，本质上观察者模式就是通过一个增加观察者的方法搭配一个通知方法，所有观察者实现该通知的接口即可

###装饰器模式：
装饰器模式常见的业务场景是在执行一个方法之前、之后、正在执行的过程中动态的执行一个方法，为什么要使用装饰器呢？原因是部分对象生成的开销很大，如果通过子类继承父类的方式实现，对象生成的开销无法避免，如果通过装饰器模式就可以很好的解决这个问题。

###迭代器模式：
迭代器模式实现PHP的迭代器接口(iteator),迭代器模式主要实现了在不需要了解对象的内部实现基础上，遍历该对象，这里简要的提一下(迭代器模式本质上在PHP中实现是通过对HashTable表的操作来完成，这里可以回想一下current这些函数，本质上都是使用了相同的HASH宏进行操作)

###适配器模式：
适配器模式运用范围就比较广了，最常见的就是PHP连接数据库了，用于不同的数据库有不同的API，适配器模式就是将这些不同的API封装成一个借口，外部实现该接口就可以做到统一API的效果

###策略模式：
策略模式是一种实现依赖注入的方式，在常规的PHP编程中，比如实现根据性别产生不同的商品信息，这种情况很好解决，可是随着选择类别的增加，不断的增加IF判断对程序员编程非常不友好，而且容易出错。通过实现一个策略模式的接口，动态的生成不同的策略模式，同时可以实现控制的反转，即程序员编程时无需考虑哪个类别来操作，只需要动态的生成一个策略模式即可。

代理模式：这里熟悉IOS的工程师又表示这个我懂，代理模式在PHP比较常见的业务场景呢是数据库的读写分离，由于从库有不同的地址或者端口，如果每次需要编写代码修安排去配置从库的连接就极为不方便，这里可以统一的将主库和从库分离开来，插入的时候选择一个代理去操作主库，同理读取选择从库即可进行操作了。
